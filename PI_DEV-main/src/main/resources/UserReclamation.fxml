<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<AnchorPane stylesheets="@css/style.css" xmlns="http://javafx.com/javafx/21.0.6" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controllers.UserReclamationController">
    <children>
        <HBox AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" 
              AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            
            <!-- Navigation Sidebar -->
            <VBox minWidth="220.0" maxWidth="220.0" styleClass="bg" HBox.hgrow="NEVER">
                <children>
                    <!-- Logo Section -->
                    <VBox alignment="CENTER" minHeight="150">
                        <ImageView fitHeight="140.0" fitWidth="140.0" pickOnBounds="true" preserveRatio="true">
                            <image>
                                <Image url="@img/logor.png"/>
                            </image>
                        </ImageView>
                    </VBox>

                    <Separator prefWidth="200.0"/>
                    
                    <!-- Navigation Buttons -->
                    <Button fx:id="profileButton" styleClass="nav-button" text="Mon Profil">
                        <graphic>
                            <FontIcon iconLiteral="fas-user" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Separator prefWidth="200.0"/>
                    
                    <Button fx:id="seanceButton" styleClass="nav-button" text="Mes Séances">
                        <graphic>
                            <FontIcon iconLiteral="fas-calendar-alt" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Separator prefWidth="200.0"/>
                    
                    <Button fx:id="produitButton" styleClass="nav-button" text="Produits">
                        <graphic>
                            <FontIcon iconLiteral="fas-shopping-cart" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Separator prefWidth="200.0"/>
                    
                    <Button fx:id="offreButton" styleClass="nav-button" text="Offres">
                        <graphic>
                            <FontIcon iconLiteral="fas-gift" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Separator prefWidth="200.0"/>
                    
                    <Button fx:id="eventButton" styleClass="nav-button" text="Evénements">
                        <graphic>
                            <FontIcon iconLiteral="fas-calendar-check" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Separator prefWidth="200.0"/>
                    
                    <Button fx:id="reclamationButton" styleClass="nav-button, active" text="Réclamations">
                        <graphic>
                            <FontIcon iconLiteral="fas-comment-alt" iconSize="20"/>
                        </graphic>
                    </Button>
                    
                    <Region VBox.vgrow="ALWAYS"/>
                    
                    <Button fx:id="logoutButton" styleClass="nav-button, logout-button" text="Déconnexion">
                        <graphic>
                            <FontIcon iconLiteral="fas-sign-out-alt" iconSize="24"/>
                        </graphic>
                    </Button>
                </children>
            </VBox>

            <!-- Main Content Area -->
            <VBox HBox.hgrow="ALWAYS">
                <!-- Top Bar -->
                <VBox styleClass="top-bar" minHeight="50.0" maxHeight="50.0">
                    <HBox alignment="CENTER_RIGHT" spacing="15" styleClass="top-bar-content">
                        <padding>
                            <Insets right="20" left="20"/>
                        </padding>
                        <Label text="Centre d'Assistance" styleClass="page-title">
                            <font>
                                <Font name="System Bold" size="16.0"/>
                            </font>
                        </Label>
                        <Region HBox.hgrow="ALWAYS"/>
                        <HBox alignment="CENTER" styleClass="search-container">
                            <TextField fx:id="searchField" promptText="Rechercher dans vos réclamations..." 
                                     styleClass="search-box"/>
                            <FontIcon iconLiteral="fas-search" iconSize="16" styleClass="search-icon"/>
                        </HBox>
                        <FontIcon iconLiteral="fas-bell" iconSize="20" styleClass="notification-icon"/>
                        <FontIcon iconLiteral="fas-user-circle" iconSize="24" styleClass="profile-icon"/>
                    </HBox>
                </VBox>

                <!-- Main Content -->
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="content-area">
                    <VBox spacing="30">
                        <padding>
                            <Insets top="30" right="40" bottom="30" left="40"/>
                        </padding>

                        <!-- Welcome Card -->
                        <VBox styleClass="welcome-card" spacing="20">
                            <padding>
                                <Insets top="35" right="40" bottom="35" left="40"/>
                            </padding>
                            <HBox alignment="CENTER_LEFT" spacing="20">
                                <FontIcon iconLiteral="fas-hands-helping" iconSize="40" styleClass="welcome-icon"/>
                                <VBox spacing="8">
                                    <Label text="Bienvenue dans votre espace réclamation" styleClass="welcome-title"/>
                                    <Label text="Notre équipe est à votre écoute 24/7" styleClass="welcome-subtitle"/>
                                </VBox>
                            </HBox>
                            <Label text="Nous nous engageons à traiter chaque réclamation avec attention et professionnalisme. Votre satisfaction est notre priorité absolue." 
                                   styleClass="welcome-text" wrapText="true"/>
                        </VBox>

                        <!-- Content Layout -->
                        <HBox spacing="30">
                            <!-- Form Section -->
                            <VBox styleClass="form-card" spacing="25" HBox.hgrow="ALWAYS" maxWidth="500">
                                <padding>
                                    <Insets top="30" right="35" bottom="30" left="35"/>
                                </padding>
                                
                                <HBox alignment="CENTER_LEFT" spacing="15">
                                    <FontIcon iconLiteral="fas-edit" iconSize="24" styleClass="form-icon"/>
                                    <Label text="Nouvelle Réclamation" styleClass="form-title"/>
                                </HBox>
                                
                                <VBox spacing="20">
                                    <VBox spacing="10">
                                        <Label text="Type de Réclamation" styleClass="field-label">
                                            <graphic>
                                                <FontIcon iconLiteral="fas-tag" iconSize="16" styleClass="field-icon"/>
                                            </graphic>
                                        </Label>
                                        <ComboBox fx:id="typeComboBox" promptText="Sélectionnez le type de réclamation" 
                                                 styleClass="combo-box-field" maxWidth="Infinity"/>
                                    </VBox>
                                    
                                    <VBox spacing="10">
                                        <Label text="Description détaillée" styleClass="field-label">
                                            <graphic>
                                                <FontIcon iconLiteral="fas-comment-dots" iconSize="16" styleClass="field-icon"/>
                                            </graphic>
                                        </Label>
                                        <TextArea fx:id="descriptionField" promptText="Décrivez votre problème en détail..." 
                                                 styleClass="text-area-field" wrapText="true" prefRowCount="5"/>
                                    </VBox>
                                    
                                    <VBox spacing="10">
                                        <Label text="Date de l'incident" styleClass="field-label">
                                            <graphic>
                                                <FontIcon iconLiteral="fas-calendar-alt" iconSize="16" styleClass="field-icon"/>
                                            </graphic>
                                        </Label>
                                        <DatePicker fx:id="datePicker" promptText="Sélectionnez la date" 
                                                  styleClass="date-picker-field" maxWidth="Infinity"/>
                                    </VBox>
                                </VBox>
                                
                                <HBox spacing="15" alignment="CENTER_RIGHT" styleClass="button-container">
                                    <Button fx:id="clearButton" text="Effacer" styleClass="modern-clear-button">
                                        <graphic>
                                            <FontIcon iconLiteral="fas-ban" iconSize="18" styleClass="button-icon"/>
                                        </graphic>
                                    </Button>
                                    <Button fx:id="submitButton" text="Envoyer" styleClass="modern-submit-button">
                                        <graphic>
                                            <FontIcon iconLiteral="fas-paper-plane" iconSize="16" styleClass="button-icon"/>
                                        </graphic>
                                    </Button>
                                </HBox>
                            </VBox>

                            <!-- Status Section -->
                            <VBox spacing="20" maxWidth="600" HBox.hgrow="ALWAYS">
                                <!-- Search Box -->
                                <HBox styleClass="modern-search-container" alignment="CENTER" spacing="10">
                                    <FontIcon iconLiteral="fas-search" iconSize="16" styleClass="search-icon"/>
                                    <TextField fx:id="reclamationSearch" promptText="Rechercher dans vos réclamations..." 
                                             styleClass="modern-search-field" HBox.hgrow="ALWAYS"/>
                                    <Button fx:id="refreshButton" styleClass="modern-refresh-button">
                                        <graphic>
                                            <FontIcon iconLiteral="fas-sync-alt" iconSize="16" styleClass="refresh-icon"/>
                                        </graphic>
                                    </Button>
                                </HBox>

                                <!-- Reclamations List -->
                                <VBox styleClass="table-card" spacing="20" VBox.vgrow="ALWAYS">
                                    <padding>
                                        <Insets top="25" right="25" bottom="25" left="25"/>
                                    </padding>
                                    <HBox alignment="CENTER_LEFT" spacing="15">
                                        <FontIcon iconLiteral="fas-list-alt" iconSize="24" styleClass="table-icon"/>
                                        <VBox spacing="5">
                                            <Label text="Historique des Réclamations" styleClass="table-title"/>
                                            <Label text="Suivez l'état de vos demandes en temps réel" styleClass="table-subtitle"/>
                                        </VBox>
                                    </HBox>
                                    
                                    <ListView fx:id="reclamationTable" styleClass="custom-table" VBox.vgrow="ALWAYS">
                                        <placeholder>
                                            <VBox alignment="CENTER" spacing="15">
                                                <FontIcon iconLiteral="fas-inbox" iconSize="48" styleClass="empty-icon"/>
                                                <Label text="Aucune réclamation pour le moment" styleClass="empty-text"/>
                                                <Label text="Vos futures réclamations apparaîtront ici" styleClass="empty-subtext"/>
                                            </VBox>
                                        </placeholder>
                                    </ListView>
                                </VBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </ScrollPane>
            </VBox>
        </HBox>
    </children>
</AnchorPane> 